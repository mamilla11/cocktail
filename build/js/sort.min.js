"use strict";!function(){var t=document.querySelector("#canvas"),a=t.getContext("2d"),e=document.querySelector(".button--bubble"),n=document.querySelector(".button--cocktail"),i=document.querySelector(".button--merge"),o=document.querySelector(".button--selection"),r=document.querySelector(".button--insertion"),u=document.querySelector(".button--quick"),c=["#ad9baa","#88a0a8","#b4ceb3","#dbd3c9","#fad4d8"],l=[],v=!1,f=50,s=50,w=function(){return v},d=function(){l=[];for(var t=1;t<=s;t++)l.push({value:t,color:c[parseInt(Math.random()*c.length)]})},m=function(){for(var t=s;0!==t;){var a=Math.floor(Math.random()*t);y(t-=1,a)}},y=function(t,a){var e=l[t];l[t]=l[a],l[a]=e},h=function(){var e=0,n=t.width/s;a.clearRect(0,0,t.width,t.height);for(var i=0;i<s;i++)a.beginPath(),a.fillStyle=l[i].color,a.fillRect(e,t.height-l[i].value*(n/2),n,t.height),a.closePath(),e+=n},b=function(t){return new Promise(a=>setTimeout(a,t))},S=async function(){v=!0,await async function t(a,e){if(a<e){const n=e,i=await async function(t,a,e){const n=l[t].value;for(var i=a,o=a,o=a;o<e;o++)l[o].value<n&&(await y(o,i),await h(),await b(f),i++);return await y(e,i),await h(),await b(f),Promise.resolve(i)}(n,a,e);await t(a,i-1),await t(i+1,e)}return Promise.resolve()}(0,s-1),v=!1};document.querySelector(".button--reset").addEventListener("click",function(){w()||(m(),h())}),e.addEventListener("click",function(){w()||async function(){v=!0;for(var t=s-1;t>=0;t--)for(var a=1;a<=t;a++)l[a-1].value>l[a].value&&(y(a,a-1),await h(),await b(f));v=!1}()}),n.addEventListener("click",function(){w()||async function(){v=!0;for(var t=0,a=0,e=s-1;a<e;){for(t=a;t<e;t++)l[t].value>l[t+1].value&&(await y(t,t+1),await h(),await b(f));for(t=--e;t>a;t--)l[t-1].value>l[t].value&&(await y(t-1,t),await h(),await b(f));a++}v=!1}()}),o.addEventListener("click",function(){w()||async function(){var t;v=!0;for(var a=0;a<s;a++){t=a;for(var e=a+1;e<s;e++)l[e].value<l[t].value&&(t=e);await y(a,t),await h(),await b(f)}v=!1}()}),r.addEventListener("click",function(){w()||async function(){var t,a,e;for(v=!0,t=1;t<s;t++){for(a=l[t].value,e=t;e>0&&l[e-1].value>a;)l[e].value=l[e-1].value,await h(),await b(f),e--;l[e].value=a,await h(),await b(f)}v=!1}()}),u.addEventListener("click",function(){w()||S()}),i.addEventListener("click",function(){w()||function(){!async function a(e,n,i){var o,r,u,c;if(n>=i)return Promise.resolve();if(r=Math.floor((n+i)/2),await a(e,n,r),await a(e,r+1,i),o=n,u=r+1,!(e[r].value<=e[u].value)){for(;o<=r&&u<=i;)e[o].value<=e[u].value?o++:(c=e[u].value,await t(e,o,u),e[o].value=c,await h(),await b(f),o++,u++,r++);return Promise.resolve()}}(l,0,s-1);var t=function(t,a,e){for(var n=[],i=0,o=a;i<e-a;i++,o++)n[i]=t[o].value;for(i=0,o=a+1;i<e-a;i++,o++)t[o].value=n[i];return Promise.resolve(t)}}()}),window.sort={reset:function(){d(),m(),h()},isBusy:w,setDataSize:function(t){s=t},setDelayTime:function(t){f=t}}}();