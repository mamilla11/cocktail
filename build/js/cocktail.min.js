"use strict";var Arr=[],len=Arr.length,colors=["#ad9baa","#88a0a8","#b4ceb3","#dbd3c9","#fad4d8"],time=100,canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),rangeTime=document.getElementById("rangeTime"),rangeArr=document.getElementById("rangeArr"),showTime=document.getElementById("showTime"),showLength=document.getElementById("showLength");function createArr(r){Arr=[];for(var e=1;e<=r;e++)Arr.push({value:e,color:colors[parseInt(Math.random()*colors.length)]});return len=Arr.length,console.log(Arr),Arr}function randomArr(){for(var r,e=len;0!==e;)r=Math.floor(Math.random()*e),swapIndex(Arr,e-=1,r);return drawArr(Arr),Arr}function swapIndex(r,e,a){var t=r[e];return r[e]=r[a],r[a]=t,r}function drawArr(r){var e=0,a=canvas.width/len;ctx.clearRect(0,0,canvas.width,canvas.height);for(var t=0;t<len;t++){ctx.beginPath(),ctx.fillStyle=r[t].color,ctx.strokeStyle=r[t].color,ctx.lineJoin="round",ctx.lineWidth=6;var n=canvas.height-r[t].value*(a/2);ctx.strokeRect(e+3,n+3,a-6,canvas.height-6),ctx.fillRect(e+3,n+3,a-6,canvas.height-6),ctx.closePath(),e+=a}}function sleep(r){return new Promise(e=>setTimeout(e,r))}async function bubbelSort(r){for(var e=len-1;e>=0;e--)for(var a=1;a<=e;a++)r[a-1].value>r[a].value&&(swapIndex(r,a,a-1),await drawArr(r),await sleep(time))}async function cocktailSort(r){for(var e,a=0,t=len-1;a<t;){for(e=a;e<t;e++)r[e].value>r[e+1].value&&(await swapIndex(r,e,e+1),await drawArr(r),await sleep(time));for(e=--t;e>a;e--)r[e-1].value>r[e].value&&(await swapIndex(r,e-1,e),await drawArr(r),await sleep(time));a++}}createArr(35),randomArr(),drawArr(Arr),rangeTime.oninput=function(){time=rangeTime.value,showTime.innerHTML=time},rangeArr.oninput=function(){createArr(rangeArr.value),showLength.innerHTML=rangeArr.value,randomArr(),drawArr(Arr)};